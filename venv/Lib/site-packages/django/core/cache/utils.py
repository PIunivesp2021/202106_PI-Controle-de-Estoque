import hashlib

<<<<<<< HEAD
TEMPLATE_FRAGMENT_KEY_TEMPLATE = 'template.cache.%s.%s'
=======
TEMPLATE_FRAGMENT_KEY_TEMPLATE = "template.cache.%s.%s"
>>>>>>> 7d5f087c4e99aa85f4ff913899c3075425769d76


def make_template_fragment_key(fragment_name, vary_on=None):
    hasher = hashlib.md5()
    if vary_on is not None:
        for arg in vary_on:
            hasher.update(str(arg).encode())
<<<<<<< HEAD
            hasher.update(b':')
=======
            hasher.update(b":")
>>>>>>> 7d5f087c4e99aa85f4ff913899c3075425769d76
    return TEMPLATE_FRAGMENT_KEY_TEMPLATE % (fragment_name, hasher.hexdigest())
